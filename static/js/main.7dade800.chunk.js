(this.webpackJsonplouvre=this.webpackJsonplouvre||[]).push([[0],{222:function(e,t,s){},410:function(e,t,s){"use strict";s.r(t);var n=s(17),c=s(15),r=s(0),a=s(2),i=s.n(a),l=s(93),o=s.n(l),d=(s(222),s(11)),j=s(12),u=s(14),h=s(13),b=s(4),p=s(9),m=s(55),O=s(5);var x=Object(O.b)((function(e){return{auth:e.firebase.auth,profile:e.firebase.profile}}),(function(e){return{editProfileName:function(t){return e((s=t,function(e,t,n){var c=(0,n.getFirestore)(),r=t().firebase.auth.uid;c.collection("users").doc(r).update({userName:s}).then((function(){e({type:"EDITED_PROFILE_SUCCESS",userName:s})})).catch((function(t){e({type:"EDITED_PROFILE_ERROR",err:t})}))}));var s},editProfileImg:function(t){return e((s=t,function(e,t,n){var c=(0,n.getFirestore)(),r=t().firebase.auth.uid;c.collection("users").doc(r).update({img:s}).then((function(){e({type:"EDITED_PROFILE_SUCCESS",userImg:s})})).catch((function(t){e({type:"EDITED_PROFILE_ERROR",err:t})}))}));var s}}}))((function(e){var t=e.profile,s=e.auth,n=Object(a.useState)(t.userName),c=Object(m.a)(n,2),i=c[0],l=c[1],o=Object(a.useState)(t.img),d=Object(m.a)(o,2),j=d[0],u=d[1],h=Object(a.useState)(!1),b=Object(m.a)(h,2),O=b[0],x=b[1],f=Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("button",{className:"btn louvColor z-depth-0",onClick:function(e){e.preventDefault(),x(!O)},children:!1===O?Object(r.jsx)("i",{className:"material-icons",children:"edit"}):Object(r.jsx)("i",{className:"material-icons",children:"close"})})}),g=!1===O?t.img:j;return s.uid?Object(r.jsx)("div",{className:"container",children:Object(r.jsxs)("div",{className:"card hogBlock profileCard louvColor",children:[Object(r.jsx)("img",{src:g,alt:"userImg",className:"responsive-img"}),Object(r.jsxs)("div",{className:"profileText louvFont",children:[!1===O?Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("p",{className:"louvFont",children:t.userName})}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("p",{className:"louvFont",children:i}),Object(r.jsx)("div",{className:"input-field",children:Object(r.jsx)("input",{type:"text",value:i,onChange:function(e){e.preventDefault(),l(e.target.value)}})}),Object(r.jsx)("p",{className:"louvFont",children:"Change your image:"}),Object(r.jsx)("div",{className:"input-field",children:Object(r.jsx)("input",{type:"text",value:j,onChange:function(e){e.preventDefault(),u(e.target.value)}})})]}),Object(r.jsxs)("p",{children:["e-mail: ",s.email]}),Object(r.jsxs)("p",{children:["role: ","neo"===t.role?"neo":t.role]}),!1===O?null:Object(r.jsx)("button",{className:"btn z-depth-0",onClick:function(t){t.preventDefault(),e.editProfileName(i),e.editProfileImg(j),x(!1)},children:Object(r.jsx)("i",{className:"material-icons",children:"check"})}),f]})]})}):Object(r.jsx)(p.a,{to:"/signin"})})),f=function(e){Object(u.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(d.a)(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:""},e.handleChange=function(t){e.setState(Object(c.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.signIn(e.state)},e}return Object(j.a)(s,[{key:"render",value:function(){var e=this.props,t=e.authError;return e.auth.uid?Object(r.jsx)(p.a,{to:"/"}):Object(r.jsx)("div",{className:"container louvColor",children:Object(r.jsxs)("form",{onSubmit:this.handleSubmit,className:"white ",children:[Object(r.jsx)("h5",{className:"grey-text text-darken-3",children:"Sign In"}),Object(r.jsxs)("div",{className:"input-field",children:[Object(r.jsx)("label",{htmlFor:"email",children:"Email"}),Object(r.jsx)("input",{type:"email",id:"email",onChange:this.handleChange})]}),Object(r.jsxs)("div",{className:"input-field",children:[Object(r.jsx)("label",{htmlFor:"password",children:"Password"}),Object(r.jsx)("input",{type:"password",id:"password",onChange:this.handleChange})]}),Object(r.jsxs)("div",{className:"input-field",children:[Object(r.jsx)("button",{className:"btn z-depth-0 louvColor",children:"Log in"}),Object(r.jsx)("div",{className:"red-text center",children:t?Object(r.jsx)("p",{children:t}):null})]})]})})}}]),s}(a.Component),g=Object(O.b)((function(e){return{authError:e.auth.authError,auth:e.firebase.auth}}),(function(e){return{signIn:function(t){return e((s=t,function(e,t,n){(0,n.getFirebase)().auth().signInWithEmailAndPassword(s.email,s.password).then((function(){e({type:"LOGIN_SUCCESS"})})).catch((function(t){e({type:"LOGIN_ERROR",err:t})}))}));var s}}}))(f),v=function(e){Object(u.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(d.a)(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:"",userName:"",img:"https://i2.wp.com/www.vooks.net/img/2016/06/HddtBOT.png?fit=1920%2C1080&ssl=1",error:""},e.handleChange=function(t){e.setState(Object(c.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),0!==e.state.userName.length?(e.setState({error:""}),e.props.signUp(e.state)):e.setState({error:"Your username should be bigger than your pepe size!(0)"})},e}return Object(j.a)(s,[{key:"render",value:function(){var e=this.props,t=e.auth,s=e.authError;return t.uid?Object(r.jsx)(p.a,{to:"/"}):Object(r.jsx)("div",{className:"container",children:Object(r.jsxs)("form",{onSubmit:this.handleSubmit,className:"white",children:[Object(r.jsx)("h5",{children:"New Inhabitant"}),Object(r.jsxs)("div",{className:"input-field",children:[Object(r.jsx)("label",{htmlFor:"userName",children:"User name"}),Object(r.jsx)("input",{type:"text",id:"userName",onChange:this.handleChange}),Object(r.jsx)("span",{className:"red-text",children:this.state.error&&this.state.error})]}),Object(r.jsxs)("div",{className:"input-field",children:[Object(r.jsx)("label",{htmlFor:"email",children:"Email"}),Object(r.jsx)("input",{type:"email",id:"email",onChange:this.handleChange})]}),Object(r.jsxs)("div",{className:"input-field",children:[Object(r.jsx)("label",{htmlFor:"password",children:"Password"}),Object(r.jsx)("input",{type:"password",id:"password",onChange:this.handleChange})]}),Object(r.jsxs)("div",{className:"input-field",children:[Object(r.jsx)("label",{htmlFor:"img",children:"Link to image for profile picture"}),Object(r.jsx)("input",{type:"text",id:"img",onChange:this.handleChange})]}),Object(r.jsxs)("div",{className:"input-field",children:[Object(r.jsx)("button",{className:"btn louvColor z-depth-0",children:"Sign Up"}),Object(r.jsx)("div",{className:"red-text center z-depth-1 p1",children:s?Object(r.jsx)("p",{children:s}):null})]})]})})}}]),s}(a.Component),N=Object(O.b)((function(e){return{auth:e.firebase.auth,authError:e.auth.authError}}),(function(e){return{signUp:function(t){return e(function(e){return function(t,s,n){var c=n.getFirebase,r=n.getFirestore,a=c(),i=r();a.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(t){return i.collection("users").doc(t.user.uid).set({userName:e.userName,img:e.img,role:"guest"})})).then((function(){t({type:"SIGNUP_SUCCESS"})})).catch((function(e){t({type:"SIGNUP_ERROR",err:e})}))}}(t))}}}))(v),C=function(){return Object(r.jsx)("header",{className:"mainHeader",children:Object(r.jsxs)("div",{className:"louvFont",children:[Object(r.jsx)("h1",{children:" Welcome to Louvre"}),Object(r.jsx)("h5",{children:" Watch. Read. Share."})]})})},E=function(){return Object(r.jsx)("footer",{className:"footerMain louvColor ",children:Object(r.jsx)("div",{className:"footerContent",children:Object(r.jsxs)("div",{children:[Object(r.jsx)("a",{href:"https://www.instagram.com/bixxter_/",className:"louvFont white-text",target:"_blank",rel:"noreferrer",children:"bixxter"}),Object(r.jsx)("p",{className:"yellow-text",children:"\u0441\u0430\u0439\u0442 \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 "})]})})})},S=Object(O.b)((function(e){return{profile:e.firebase.profile,auth:e.firebase.auth}}),(function(e){return{signOut:function(){return e((function(e,t,s){(0,s.getFirebase)().auth().signOut().then((function(){e({type:"SIGNOUT_SUCCESS"})}))}))}}}))((function(e){var t=e.profile,s=e.auth,n=Object(a.useState)(!1),c=Object(m.a)(n,2),i=c[0],l=c[1],o="neo"===t.role?Object(r.jsx)(b.d,{to:"/create",children:"Create opinion"}):null;return s.uid?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("li",{children:Object(r.jsx)(b.d,{to:"/users",children:"People"})}),Object(r.jsx)("li",{children:o}),Object(r.jsx)("li",{children:Object(r.jsx)(b.d,{to:"/userprofile",children:t.userName})}),Object(r.jsx)("li",{children:Object(r.jsx)("a",{onClick:e.signOut,children:"Log Out"})}),Object(r.jsx)("li",{children:Object(r.jsx)("a",{className:!0===i?"btn black white-text":"btn white black-text",onClick:function(e){e.preventDefault(),l(!i),document.body.classList.toggle("darkMode")},children:!0===i?"day":"night"})})]}):Object(r.jsx)(p.a,{to:"/signin"})})),y=function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("li",{children:Object(r.jsx)(b.d,{to:"/signup",children:"Sign Up"})}),Object(r.jsx)("li",{children:Object(r.jsx)(b.d,{to:"/signin",children:"Login"})})]})};var _=Object(O.b)((function(e){return{profile:e.firebase.profile}}))((function(e){return Object(r.jsxs)("div",{className:"user-view",children:[Object(r.jsx)("div",{className:"background",children:Object(r.jsx)("img",{src:"https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/f41cdc64-679a-4284-9d6f-3e75890cdf70/ddmntt4-8045c4e4-48bd-4a27-a795-07067ca5265f.jpg/v1/fill/w_1264,h_632,q_70,strp/deviantart_banner_by_astrospaze_ddmntt4-pre.jpg?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOiIsImlzcyI6InVybjphcHA6Iiwib2JqIjpbW3siaGVpZ2h0IjoiPD02NDAiLCJwYXRoIjoiXC9mXC9mNDFjZGM2NC02NzlhLTQyODQtOWQ2Zi0zZTc1ODkwY2RmNzBcL2RkbW50dDQtODA0NWM0ZTQtNDhiZC00YTI3LWE3OTUtMDcwNjdjYTUyNjVmLmpwZyIsIndpZHRoIjoiPD0xMjgwIn1dXSwiYXVkIjpbInVybjpzZXJ2aWNlOmltYWdlLm9wZXJhdGlvbnMiXX0.B68ClwHam1WzfazJ8GUu1td-2CcVGgpkd4HORhyJdAo",alt:"background"})}),Object(r.jsx)(b.c,{to:"/userprofile",children:Object(r.jsx)("img",{className:"circle",src:e.profile.img,alt:"profile_pic"})}),Object(r.jsx)(b.c,{to:"/userprofile",children:Object(r.jsx)("span",{className:"white-text name",children:e.profile.userName})}),Object(r.jsx)("a",{href:"#email",children:Object(r.jsx)("span",{className:"white-text email",children:e.profile.email})})]})})),I=Object(O.b)((function(e){return{auth:e.firebase.auth,profile:e.firebase.profile}}))((function(e){var t=e.auth,s=e.profile,n=t.uid?Object(r.jsx)(S,{profile:s}):Object(r.jsx)(y,{}),c=t.uid?Object(r.jsx)(_,{profile:s}):null;return Object(r.jsxs)("nav",{className:"nav-wrapper louvColor navBar",children:[Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)(b.c,{to:"/",className:"brand-logo louvFont",children:"Louvre"}),Object(r.jsx)("a",{href:"/","data-target":"slide-out",className:"sidenav-trigger",children:Object(r.jsx)("i",{className:"material-icons",children:"menu"})}),Object(r.jsx)("div",{className:"hide-on-med-and-down",children:Object(r.jsxs)("ul",{className:"right ",children:[Object(r.jsx)("li",{children:Object(r.jsx)(b.c,{to:"/welcome",children:"About"})}),n]})})]}),Object(r.jsxs)("ul",{id:"slide-out",className:"sidenav navBarMob",children:[Object(r.jsx)("li",{children:c}),Object(r.jsx)("li",{children:Object(r.jsx)(b.d,{to:"/",className:"louvFont",children:"Louvre"})}),Object(r.jsx)("li",{children:Object(r.jsx)(b.c,{to:"/welcome",children:"About"})}),n]})]})})),R=s(95),k=s.n(R),F=function(e){Object(u.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(d.a)(this,s);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={id:e.props.post.id},e}return Object(j.a)(s,[{key:"render",value:function(){var e=this.props.post;return Object(r.jsx)("div",{className:"post",children:Object(r.jsxs)("div",{className:"card z-depth-0",children:[Object(r.jsx)("div",{className:"card-image postImage",children:Object(r.jsx)("img",{src:e.img,alt:""})}),Object(r.jsx)("div",{className:"card-content postContent",children:Object(r.jsx)("span",{className:"card-title postTitle",children:e.title})}),Object(r.jsxs)("div",{className:"card-content greytext text-darken-3",children:[Object(r.jsxs)("span",{className:"card-title pulse louvFontColor ",children:[e.likes,Object(r.jsx)("i",{className:"material-icons",children:"flash_on"})]}),e.tags&&Object(r.jsx)("div",{className:"tags",children:e.tags.split(",").map((function(e,t){return Object(r.jsx)("span",{className:"tag",children:e},t)}))}),k()(e.createdAt.toDate()).calendar()]})]})})}}]),s}(a.Component),w=Object(O.b)((function(e){return{profile:e.firebase.profile}}))((function(e,t){var s=e.posts,n=t.profile;return s?Object(r.jsx)("div",{className:"gallery",children:Object(r.jsx)("div",{className:"section posts container",children:s&&s.map((function(e){return Object(r.jsx)(b.c,{to:"/post/"+e.id,children:Object(r.jsx)(F,{post:e,profile:n})},e.id)}))})}):Object(r.jsx)("div",{className:"mainLoader",children:Object(r.jsx)("div",{className:"preloader-wrapper big active",children:Object(r.jsxs)("div",{className:"spinner-layer spinner-blue-only ",children:[Object(r.jsx)("div",{className:"circle-clipper left",children:Object(r.jsx)("div",{className:"circle"})}),Object(r.jsx)("div",{className:"gap-patch",children:Object(r.jsx)("div",{className:"circle"})}),Object(r.jsx)("div",{className:"circle-clipper right",children:Object(r.jsx)("div",{className:"circle"})})]})})})})),T=s(26),D=s(20),L=function(e){Object(u.a)(s,e);var t=Object(h.a)(s);function s(){return Object(d.a)(this,s),t.apply(this,arguments)}return Object(j.a)(s,[{key:"render",value:function(){var e=this.props,t=e.posts;return e.auth.uid?Object(r.jsx)("div",{children:Object(r.jsx)(w,{posts:t})}):Object(r.jsx)(p.a,{to:"/welcome"})}}]),s}(a.Component),U=Object(D.d)(Object(O.b)((function(e){return{posts:e.firestore.ordered.posts,auth:e.firebase.auth}})),Object(T.firestoreConnect)([{collection:"posts"}]))(L),P=Object(D.d)(Object(O.b)((function(e){return{users:e.firestore.data.users,auth:e.firebase.auth,profile:e.firebase.profile}}),(function(e){return{deleteUser:function(t){return e(function(e){return function(t,s,n){var c=n.getFirestore;n.getFirebase,c().collection("users").doc(e).delete().then((function(){t({type:"DELETE_USER_SUCCESS"})})).catch((function(e){t({type:"DELETE_USER_ERROR",err:e})}))}}(t))}}})),Object(T.firestoreConnect)([{collection:"users"}]))((function(e){var t=e.users,s=e.profile,n=e.auth;return n.uid?t?Object(r.jsx)("div",{className:"container",children:Object(r.jsx)("div",{className:"usersList",children:t&&Object.keys(t).map((function(c,a){return Object(r.jsxs)("div",{className:"card user louvColor",children:["neo"===s.role&&c!==n.uid?Object(r.jsx)("button",{className:"btn z-depth-0 louvColor",onClick:function(t){t.preventDefault(),e.deleteUser(c),e.history.push("/users")},children:Object(r.jsx)("i",{className:"material-icons",children:"clear"})}):null,Object(r.jsx)("img",{src:t[c]&&t[c].img,alt:"userImg",className:"responsive-img"}),Object(r.jsx)("div",{className:"userText louvFont",children:Object(r.jsx)("p",{className:"louvFont",children:t[c]&&t[c].userName})}),c===n.uid?Object(r.jsx)("i",{className:"material-icons center",children:"account_box"}):null]},a)}))})}):Object(r.jsx)("div",{className:"mainLoader",children:Object(r.jsx)("div",{className:"preloader-wrapper big active",children:Object(r.jsxs)("div",{className:"spinner-layer spinner-blue-only ",children:[Object(r.jsx)("div",{className:"circle-clipper left",children:Object(r.jsx)("div",{className:"circle"})}),Object(r.jsx)("div",{className:"gap-patch",children:Object(r.jsx)("div",{className:"circle"})}),Object(r.jsx)("div",{className:"circle-clipper right",children:Object(r.jsx)("div",{className:"circle"})})]})})}):Object(r.jsx)(p.a,{to:"/signin"})})),M=function(e){var t=e.post;return Object(r.jsx)("div",{className:"postDemo",children:Object(r.jsx)("div",{className:"card post",children:Object(r.jsxs)("div",{className:"card z-depth-0",children:[Object(r.jsx)("div",{className:"card-content postContent",children:Object(r.jsxs)("span",{className:"card-title postTitle",children:["Title: ",t.title]})}),Object(r.jsxs)("div",{className:"card-image postImage",children:[Object(r.jsx)("img",{src:t.img,alt:""}),Object(r.jsx)("span",{className:"card-content grey-text",children:"image"})]}),Object(r.jsxs)("div",{className:"card-content greytext text-darken-3",children:[t.video?Object(r.jsx)("div",{className:"video-container",children:Object(r.jsx)("div",{dangerouslySetInnerHTML:{__html:t.video}})}):null,Object(r.jsx)("div",{dangerouslySetInnerHTML:{__html:t.content}}),Object(r.jsx)("span",{className:"card-title pulse louvFontColor ",children:Object(r.jsx)("i",{className:"material-icons",children:"flash_on"})}),t.tags&&Object(r.jsx)("div",{className:"tags",children:t.tags.split(",").map((function(e){return Object(r.jsx)("span",{className:"tag",children:e})}))})]})]})})})},z=function(e){Object(u.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(d.a)(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={title:"",video:"",content:"",img:"",tags:"",demo:!1},e.handleChange=function(t){e.setState(Object(c.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.createPost(e.state),e.props.history.push("/")},e.handleDemoClick=function(t){t.preventDefault(),e.setState({demo:!e.state.demo})},e}return Object(j.a)(s,[{key:"render",value:function(){var e=this.props,t=e.auth,s=e.profile;return t.uid?"neo"!==s.role?Object(r.jsx)(p.a,{to:"/"}):Object(r.jsx)("div",{className:"container",children:Object(r.jsxs)("form",{onSubmit:this.handleSubmit,className:"white",children:[Object(r.jsx)("button",{className:"btn louvColor",onClick:this.handleDemoClick,children:!1===this.state.demo?"Demo":"Close"}),!0===this.state.demo?Object(r.jsx)(M,{post:this.state}):null,Object(r.jsx)("h5",{className:"grey-text text-darken-3",children:"Create new opinion"}),Object(r.jsxs)("div",{className:"input-field",children:[Object(r.jsx)("label",{htmlFor:"title",children:"Title"}),Object(r.jsx)("input",{type:"text",id:"title",onChange:this.handleChange})]}),Object(r.jsxs)("div",{className:"input-field",children:[Object(r.jsx)("label",{htmlFor:"video",children:"Media"}),Object(r.jsx)("textarea",{id:"video",className:"materialize-textarea",onChange:this.handleChange})]}),Object(r.jsxs)("div",{className:"input-field",children:[Object(r.jsx)("label",{htmlFor:"content",children:"Content"}),Object(r.jsx)("textarea",{id:"content",className:"materialize-textarea",onChange:this.handleChange})]}),Object(r.jsxs)("div",{className:"input-field",children:[Object(r.jsx)("label",{htmlFor:"img",children:"Image"}),Object(r.jsx)("input",{type:"text",id:"img",onChange:this.handleChange})]}),Object(r.jsxs)("div",{className:"input-field",children:[Object(r.jsx)("label",{htmlFor:"tags",children:"Tags"}),Object(r.jsx)("input",{type:"text",id:"tags",onChange:this.handleChange}),0===this.state.tags.length?null:Object(r.jsxs)("span",{className:"green-text",children:['*please use "," to devide tags ',Object(r.jsx)("br",{})," example: video, audio, lol"," "]})]}),Object(r.jsx)("div",{className:"input-field",children:Object(r.jsx)("button",{className:"btn louvColor lighten-1 z-depth-0",children:"Create"})})]})}):Object(r.jsx)(p.a,{to:"/signin"})}}]),s}(a.Component),A=Object(O.b)((function(e){return{auth:e.firebase.auth,profile:e.firebase.profile}}),(function(e){return{createPost:function(t){return e(function(e){return function(t,s,c){var r=(0,c.getFirestore)(),a=s().firebase.profile,i=s().firebase.auth.uid;r.collection("posts").add(Object(n.a)(Object(n.a)({},e),{},{authorUserName:a.userName,authorId:i,createdAt:new Date,likes:0,comments:[],answers:[]})).then((function(){t({type:"CREATE_POST_SUCCESS"})})).catch((function(e){t({type:"CREATE_POST_ERROR",err:e})}))}}(t))}}}))(z),G=function(e){Object(u.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(d.a)(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={postId:e.props.postId,userId:e.props.auth.uid,userName:e.props.profile.userName,userImg:e.props.profile.img,comment:""},e.handleChange=function(t){e.setState(Object(c.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.leaveComment(e.state),t.target.reset()},e.handleSubSubmit=function(t){t.preventDefault(),e.props.subComment(e.state),t.target.reset()},e}return Object(j.a)(s,[{key:"render",value:function(){var e=this,t=this.props,s=t.post,n=t.auth,c=t.profile,a=Object(r.jsx)("div",{className:"input-field",children:Object(r.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(r.jsx)("label",{htmlFor:"comment",children:"Comment"}),Object(r.jsx)("textarea",{id:"comment",className:"materialize-textarea",onChange:this.handleChange}),Object(r.jsx)("button",{type:"submit",className:"btn z-depth-0 louvColor",children:"Leave a comment"})]})});return Object(r.jsxs)("div",{className:"commentsSection",children:[Object(r.jsxs)("p",{children:["Comments ",Object(r.jsx)("span",{className:"green-text",children:s.comments.length})]}),Object(r.jsx)("div",{className:"comments",children:s.comments&&s.comments.map((function(t,s){return Object(r.jsx)("div",{children:Object(r.jsxs)("div",{className:"commentBlock z-depth-0",children:[Object(r.jsx)("div",{className:"commentImg",children:Object(r.jsx)("img",{src:t.userImg,alt:"userImg"})}),Object(r.jsxs)("div",{className:"commentContent",children:[Object(r.jsx)("span",{children:t.userName}),Object(r.jsx)("p",{children:t.comment}),Object(r.jsx)("span",{className:"commentFunc green-text",children:"answer"}),n.uid===t.userId||"neo"===c.role?Object(r.jsx)("span",{className:"commentFunc",onClick:function(s){s.preventDefault(),e.props.deleteComment(t)},children:"delete"}):null]})]})},s)}))}),a]})}}]),s}(a.Component),J=Object(O.b)((function(e){return{auth:e.firebase.auth,profile:e.firebase.profile}}),(function(e){return{leaveComment:function(t){return e(function(e){return function(t,s,n){var c=n.getFirestore,r=n.getFirebase,a=c(),i=r();a.collection("posts").doc(e.postId).update({comments:i.firestore.FieldValue.arrayUnion(e)}).then((function(){t({type:"COMMENT_SUCCESS"})})).catch((function(e){t({type:"COMMENT_ERROR",err:e})}))}}(t))},subComment:function(t){return e(function(e){return function(t,s,n){var c=n.getFirestore,r=n.getFirebase,a=c(),i=r();a.collection("posts").doc(e.postId).update({answers:i.firestore.FieldValue.arrayUnion(e)}).then((function(){t({type:"COMMENT_SUCCESS"})})).catch((function(e){t({type:"COMMENT_ERROR",err:e})}))}}(t))},deleteComment:function(t){return e(function(e){return function(t,s,n){var c=n.getFirestore,r=n.getFirebase,a=c(),i=r();a.collection("posts").doc(e.postId).update({comments:i.firestore.FieldValue.arrayRemove(e)}).then((function(){t({type:"DELETE_COMMENT_SUCCESS"})})).catch((function(e){t({type:"DELETE_COMMENT_ERROR",err:e})}))}}(t))}}}))(G),W=function(e){Object(u.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(d.a)(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={id:e.props.postId,title:e.props.post.title,video:e.props.post.video,content:e.props.post.content,img:e.props.post.img,tags:e.props.post.tags},e.handleChange=function(t){t.preventDefault(),e.setState(Object(c.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.editPost(e.state)},e}return Object(j.a)(s,[{key:"render",value:function(){return"neo"!==this.props.profile.role?Object(r.jsx)(p.a,{to:"/"}):Object(r.jsx)("div",{className:"container",children:Object(r.jsxs)("form",{onSubmit:this.handleSubmit,className:"white",children:[Object(r.jsx)("h5",{className:"grey-text text-darken-3",children:"Change Post"}),Object(r.jsxs)("div",{className:"input-field",children:[Object(r.jsx)("label",{htmlFor:"title",children:"Title"}),Object(r.jsx)("input",{type:"text",id:"title",onChange:this.handleChange,value:this.state.title})]}),Object(r.jsxs)("div",{className:"input-field",children:[Object(r.jsx)("label",{htmlFor:"video",children:"Media"}),Object(r.jsx)("textarea",{id:"video",className:"materialize-textarea",onChange:this.handleChange,value:this.state.video})]}),Object(r.jsxs)("div",{className:"input-field",children:[Object(r.jsx)("label",{htmlFor:"content",children:"Content"}),Object(r.jsx)("textarea",{id:"content",className:"materialize-textarea",onChange:this.handleChange,value:this.state.content})]}),Object(r.jsxs)("div",{className:"input-field",children:[Object(r.jsx)("label",{htmlFor:"img",children:"Image"}),Object(r.jsx)("input",{type:"text",id:"img",onChange:this.handleChange,value:this.state.img})]}),Object(r.jsxs)("div",{className:"input-field",children:[Object(r.jsx)("label",{htmlFor:"tags",children:"Tags"}),Object(r.jsx)("input",{type:"text",id:"tags",onChange:this.handleChange,value:this.state.tags}),this.state.tags&&this.state.tags.length>0?Object(r.jsxs)("span",{className:"green-text",children:['*please use "," to devide tags ',Object(r.jsx)("br",{})," example: video, audio, lol"]}):null]}),Object(r.jsx)("div",{className:"input-field",children:Object(r.jsx)("button",{className:"btn louvColor lighten-1 z-depth-0",children:"Change"})})]})})}}]),s}(a.Component),H=Object(O.b)((function(e){return{auth:e.firebase.auth,profile:e.firebase.profile}}),(function(e){return{editPost:function(t){return e(function(e){return function(t,s,n){(0,n.getFirestore)().collection("posts").doc(e.id).update({title:e.title,video:e.video,content:e.content,img:e.img,tags:e.tags}).then((function(){t({type:"EDITED_POST_SUCCESS"})})).catch((function(e){t({type:"EDITED_POST_ERROR",err:e})}))}}(t))}}}))(W),B=function(e){Object(u.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(d.a)(this,s);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={editMode:!1},e}return Object(j.a)(s,[{key:"render",value:function(){var e=this,t=this.props,s=t.post,n=t.auth,c=t.postId,a=t.profile,i=Object(r.jsx)(H,{post:s,postId:c}),l={background:"url(".concat(s&&s.img,") no-repeat"),backgroundSize:"cover  ",backgroundPosition:"center",backgroundAttachment:"fixed",minHeight:"300px",color:"#fff",display:"flex"};return n.uid?s?Object(r.jsxs)("div",{className:"postDetail",children:[Object(r.jsx)("div",{className:"postHeader",style:l,children:Object(r.jsx)("h1",{className:"louvColor",children:s.title})}),Object(r.jsx)("div",{className:"container",children:Object(r.jsx)("div",{className:"card z-depth-0",children:Object(r.jsxs)("div",{className:"card-content",children:[Object(r.jsx)("div",{className:"editMode right",children:"neo"===a.role?Object(r.jsx)("button",{className:"btn louvColor",onClick:function(t){t.preventDefault(),e.setState({editMode:!e.state.editMode})},children:!1===this.state.editMode?Object(r.jsx)("i",{className:"material-icons",children:"edit"}):Object(r.jsx)("i",{className:"material-icons",children:"cancel"})}):null}),!0===this.state.editMode?i:null,Object(r.jsxs)("div",{className:"postTitle",children:[Object(r.jsx)("button",{className:"btn z-depth-0 grey",onClick:function(t){e.props.history.push("/")},children:Object(r.jsx)("i",{className:"material-icons",children:"chevron_left"})}),"neo"===a.role?Object(r.jsx)("div",{className:"edit right",children:Object(r.jsx)("div",{className:"delPost",children:Object(r.jsx)("button",{className:"btn z-depth-0 louvColor",onClick:function(t){t.preventDefault(),e.props.deletePost(c),e.props.history.push("/")},children:Object(r.jsx)("i",{className:"material-icons",children:"clear"})})})}):null]}),s.video?Object(r.jsx)("div",{className:"video-container",children:Object(r.jsx)("div",{dangerouslySetInnerHTML:{__html:s.video}})}):null,Object(r.jsxs)("div",{className:"postInnerContent",children:[Object(r.jsx)("div",{dangerouslySetInnerHTML:{__html:s.content}}),Object(r.jsx)("div",{className:"postLike",children:Object(r.jsxs)("button",{className:"btn black pulse",onClick:function(t){t.preventDefault(),e.props.likePost(c)},children:[Object(r.jsx)("i",{className:"material-icons white-text",children:"flash_on"}),s.likes]})})]}),s.tags&&Object(r.jsx)("div",{className:"tags",children:s.tags.split(",").map((function(e,t){return Object(r.jsx)("span",{className:"tag",children:e},t)}))}),Object(r.jsxs)("div",{className:"card-action grey lighten-4 grey-text",children:[Object(r.jsxs)("div",{children:["Posted by: ",s.authorUserName]}),Object(r.jsx)("div",{children:k()(s.createdAt.toDate()).calendar()})]}),Object(r.jsx)("div",{className:"comments",children:Object(r.jsx)(J,{post:s,postId:c})})]})})})]}):Object(r.jsx)("div",{class:"progress",children:Object(r.jsx)("div",{class:"indeterminate"})}):Object(r.jsx)(p.a,{to:"/signin"})}}]),s}(a.Component),V=Object(D.d)(Object(O.b)((function(e,t){var s=t.match.params.id,n=e.firestore.data.posts;return{post:n?n[s]:null,auth:e.firebase.auth,profile:e.firebase.profile,users:e.firestore.data.users,postId:s}}),(function(e){return{likePost:function(t){return e(function(e){return function(t,s,n){var c=n.getFirestore,r=n.getFirebase,a=c(),i=r();a.collection("posts").doc(e).update({likes:i.firestore.FieldValue.increment(1)}).then((function(){t({type:"LIKE_SUCCESS"})})).catch((function(e){t({type:"LIKE_ERROR",err:e})}))}}(t))},deletePost:function(t){return e(function(e){return function(t,s,n){var c=n.getFirestore;n.getFirebase,c().collection("posts").doc(e).delete().then((function(){t({type:"DELETE_POST_SUCCESS"})})).catch((function(e){t({type:"DELETE_POST_ERROR",err:e})}))}}(t))}}})),Object(T.firestoreConnect)([{collection:"posts"},{collection:"users"}]))(B),X=s(215),Z=s.n(X),Y=Object(O.b)((function(e){return{auth:e.firebase.auth}}))((function(e){var t=e.auth;return Object(r.jsx)("div",{className:"container",children:Object(r.jsxs)("div",{className:"introContent",children:[Object(r.jsxs)("section",{children:[Object(r.jsx)("img",{src:"https://i.ibb.co/F8xdk05/undraw-donut-love-kau1.png",alt:"about_img"}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c"}),Object(r.jsx)("p",{children:"\u0414\u0435\u043b\u044e\u0441\u044c \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u044b\u043c \u0438 \u043f\u043e\u043b\u0435\u0437\u043d\u044b\u043c \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u043e\u043c."})]})]}),t.uid?null:Object(r.jsxs)("section",{children:[Object(r.jsx)(b.c,{to:"signUp",className:"btn louvColor",children:"\u0417\u0430\u0440\u0435\u0433\u0430\u0442\u044c\u0441\u044f"}),Object(r.jsx)(b.c,{to:"signIn",className:"btn louvColor",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})})),Q=function(e){Object(u.a)(s,e);var t=Object(h.a)(s);function s(){return Object(d.a)(this,s),t.apply(this,arguments)}return Object(j.a)(s,[{key:"componentDidMount",value:function(){var e=document.querySelector("#slide-out");Z.a.Sidenav.init(e,{})}},{key:"render",value:function(){return Object(r.jsx)(b.a,{children:Object(r.jsx)(b.b,{basename:"/",children:Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(C,{}),Object(r.jsx)(I,{}),Object(r.jsx)("main",{children:Object(r.jsxs)(p.d,{children:[Object(r.jsx)(p.b,{exact:!0,path:"/",component:U}),Object(r.jsx)(p.b,{path:"/welcome",component:Y}),Object(r.jsx)(p.b,{path:"/users",component:P}),Object(r.jsx)(p.b,{path:"/post/:id",component:V}),Object(r.jsx)(p.b,{path:"/signin",component:g}),Object(r.jsx)(p.b,{path:"/signup",component:N}),Object(r.jsx)(p.b,{path:"/create",component:A}),Object(r.jsx)(p.b,{path:"/userprofile",component:x})]})}),Object(r.jsx)(E,{})]})})})}}]),s}(a.Component),K=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,411)).then((function(t){var s=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,a=t.getTTFB;s(e),n(e),c(e),r(e),a(e)}))},q={authError:null},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_ERROR":return console.log("fail"),Object(n.a)(Object(n.a)({},e),{},{authError:"Login failed"});case"LOGIN_SUCCESS":return console.log("success"),Object(n.a)(Object(n.a)({},e),{},{authError:null});case"SIGNOUT_SUCCESS":return console.log("signout succes"),e;case"SIGNUP_SUCCESS":return console.log("signup fail"),Object(n.a)(Object(n.a)({},e),{},{authError:null});case"SIGNUP_ERROR":return console.log("signup fail"),Object(n.a)(Object(n.a)({},e),{},{authError:t.err.message});case"EDITED_PROFILE_SUCCESS":return console.log("edited profile"),e;case"EDITED_PROFILE_ERROR":return console.log("edited profile error",t.err),e;default:return e}},ee={post:[{id:1,title:"lol kek",content:"cheburek rek rek erk"},{id:2,title:"lol kek",content:"cheburek rek rek erk"},{id:3,title:"lol kek",content:"cheburek rek rek erk"}]},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_POST_SUCCESS":return console.log("created post"),e;case"CREATE_POST_ERROR":return console.log("create post error",t.err),e;case"EDITED_POST_SUCCESS":return console.log("edited post"),e;case"EDITED_POST_ERROR":return console.log("edited post error",t.err),e;case"DELETE_POST_SUCCESS":return console.log("post delete success post"),e;case"DELETE_POST_ERROR":return console.log("post delete error",t.err),e;case"LIKE_SUCCESS":return console.log("liked post"),e;case"LIKE_ERROR":return console.log("like error",t.err),e;case"COMMENT_SUCCESS":return console.log("commented post"),e;case"COMMENT_ERROR":return console.log("commented error",t.err),e;case"DELETE_COMMENT_SUCCESS":return console.log("deleted post comment"),e;case"DELETE_COMMENT_ERROR":return console.log("deleted post comment error",t.err),e;case"DELETE_USER_SUCCESS":return console.log("deleted user"),e;case"DELETE_USER_ERROR":return console.log("deleted user error",t.err),e;default:return e}},se=s(54),ne=Object(D.c)({auth:$,post:te,firestore:se.firestoreReducer,firebase:T.firebaseReducer}),ce=s(216),re=s(68);s(406),s(408);re.a.initializeApp({apiKey:"AIzaSyCd0Q4ezDFxqsuWg997QfNo-dkdTSfpLwY",authDomain:"belekcheck.firebaseapp.com",projectId:"belekcheck",storageBucket:"belekcheck.appspot.com",messagingSenderId:"804974182946",appId:"1:804974182946:web:ed81b672aebef07567807b"});var ae,ie=re.a,le=Object(D.e)(ne,Object(D.d)(Object(D.a)(ce.a.withExtraArgument({getFirestore:se.getFirestore,getFirebase:T.getFirebase})),Object(se.reduxFirestore)(ie))),oe=(ae={firebase:re.a,config:ie},Object(c.a)(ae,"config",{userProfile:"users",useFirestoreForProfile:!0}),Object(c.a)(ae,"dispatch",le.dispatch),Object(c.a)(ae,"createFirestoreInstance",se.createFirestoreInstance),ae);function de(e){var t=e.children,s=Object(O.c)((function(e){return e.firebase.auth}));return Object(T.isLoaded)(s)?t:Object(r.jsx)("div",{className:"progress centr2",children:Object(r.jsx)("div",{className:"indeterminate"})})}o.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(O.a,{store:le,children:Object(r.jsx)(T.ReactReduxFirebaseProvider,Object(n.a)(Object(n.a)({},oe),{},{children:Object(r.jsx)(de,{children:Object(r.jsx)(Q,{})})}))})}),document.getElementById("root")),K()}},[[410,1,2]]]);
//# sourceMappingURL=main.7dade800.chunk.js.map